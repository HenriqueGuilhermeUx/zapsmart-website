<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ZapSmart - 12 Assistentes Especializados</title>
  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    body{font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;line-height:1.6;color:#333;overflow-x:hidden}
    .container{max-width:1200px;margin:0 auto;padding:0 20px}

    /* Header */
    header{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;padding:1rem 0;position:fixed;width:100%;top:0;z-index:1000;box-shadow:0 2px 10px rgba(0,0,0,.1)}
    .header-content{display:flex;justify-content:space-between;align-items:center}
    .logo{font-size:1.8rem;font-weight:bold}

    /* Hero */
    .hero{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;padding:120px 0 80px;text-align:center}
    .hero h1{font-size:3.5rem;margin-bottom:1rem}
    .hero p{font-size:1.3rem;margin-bottom:2rem;opacity:.9}
    .cta-buttons{display:flex;gap:1rem;justify-content:center;flex-wrap:wrap}
    .btn{padding:15px 30px;border:none;border-radius:50px;font-size:1.1rem;font-weight:bold;cursor:pointer;text-decoration:none;display:inline-block;transition:.3s}
    .btn-primary{background:#25D366;color:#fff}
    .btn-primary:hover{background:#128C7E;transform:translateY(-2px);box-shadow:0 10px 20px rgba(37,211,102,.3)}
    .btn-secondary{background:rgba(255,255,255,.2);color:#fff;border:2px solid #fff}
    .btn-secondary:hover{background:#fff;color:#667eea;transform:translateY(-2px)}

    /* Areas */
    .areas{padding:80px 0;background:#f8f9fa}
    .section-title{text-align:center;font-size:2.5rem;margin-bottom:1rem;color:#333}
    .section-subtitle{text-align:center;font-size:1.2rem;margin-bottom:3rem;color:#666}
    .areas-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:2rem;margin-top:3rem}
    .area-card{background:#fff;padding:2rem;border-radius:15px;text-align:center;transition:.3s;cursor:pointer;box-shadow:0 5px 15px rgba(0,0,0,.1);border:2px solid transparent}
    .area-card:hover{transform:translateY(-10px);box-shadow:0 15px 30px rgba(0,0,0,.2)}
    .area-card.premium{background:linear-gradient(135deg,#FFD700 0%,#FFA500 100%);color:#fff;border:2px solid #FFD700}
    .area-card.premium:hover{background:linear-gradient(135deg,#FFA500 0%,#FF8C00 100%)}
    .area-emoji{font-size:3rem;margin-bottom:1rem}
    .area-title{font-size:1.4rem;font-weight:bold;margin-bottom:.5rem}
    .area-desc{font-size:1rem;opacity:.9;margin-bottom:1rem}
    .area-status{font-size:.9rem;font-weight:bold;padding:.5rem 1rem;border-radius:20px;display:inline-block}
    .status-ativo{background:#28a745;color:#fff}
    .status-premium{background:#FFD700;color:#333}
    .whatsapp-link{display:inline-block;margin-top:1rem;padding:.5rem 1rem;background:#25D366;color:#fff;text-decoration:none;border-radius:20px;font-size:.9rem;transition:.3s}
    .whatsapp-link:hover{background:#128C7E;transform:scale(1.05)}

    /* Footer */
    footer{background:#333;color:#fff;text-align:center;padding:40px 0}
    footer p{margin:5px 0}
    footer .dev{margin-top:10px;font-size:.9rem;opacity:.8}

    /* Chat */
    .chat-widget{position:fixed;bottom:20px;right:20px;z-index:1000}
    .chat-button{width:60px;height:60px;background:#25D366;border-radius:50%;border:none;color:#fff;font-size:1.5rem;cursor:pointer;box-shadow:0 5px 15px rgba(37,211,102,.3)}
    .chat-popup{position:absolute;bottom:80px;right:0;width:350px;height:500px;background:#fff;border-radius:15px;box-shadow:0 20px 40px rgba(0,0,0,.2);display:none;flex-direction:column;overflow:hidden}
    .chat-popup.active{display:flex}
    .chat-header{background:#075E54;color:#fff;padding:15px;display:flex;align-items:center;justify-content:space-between}
    .chat-body{flex:1;padding:20px;overflow-y:auto;background:#e5ddd5}
    .chat-input-area{padding:15px;background:#fff;border-top:1px solid #eee;display:flex;gap:10px}
    .chat-input{flex:1;padding:10px;border:1px solid #ddd;border-radius:20px;outline:none}
    .send-btn{background:#25D366;color:#fff;border:none;border-radius:50%;width:40px;height:40px;cursor:pointer;display:flex;align-items:center;justify-content:center}
    .message{margin-bottom:15px;max-width:80%}
    .message.user{margin-left:auto}
    .message-content{padding:10px 15px;border-radius:15px;font-size:.9rem;line-height:1.4}
    .message.user .message-content{background:#DCF8C6;color:#000}
    .message.bot .message-content{background:#fff;color:#000}
    .typing{display:none;align-items:center;gap:5px;padding:10px 15px;background:#fff;border-radius:15px;max-width:80px}
    .typing.active{display:flex}
    .typing-dot{width:8px;height:8px;background:#999;border-radius:50%;animation:typing 1.4s infinite ease-in-out}
    .typing-dot:nth-child(2){animation-delay:.2s}
    .typing-dot:nth-child(3){animation-delay:.4s}

    @keyframes typing{0%,60%,100%{transform:translateY(0)}30%{transform:translateY(-10px)}}

    /* Responsive */
    @media (max-width:768px){
      .hero h1{font-size:2.5rem}
      .hero p{font-size:1.1rem}
      .cta-buttons{flex-direction:column;align-items:center}
      .chat-popup{width:300px;height:400px}
      .areas-grid{grid-template-columns:1fr}
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header>
    <div class="container">
      <div class="header-content">
        <div class="logo">ü§ñ ZapSmart</div>
      </div>
    </div>
  </header>

  <!-- Hero -->
  <section class="hero">
    <div class="container">
      <h1>ZapSmart</h1>
      <p>12 Assistentes Especializados para Todas as Suas Necessidades</p>
      <div class="cta-buttons">
        <button onclick="openGeneralChat()" class="btn btn-primary">üí¨ Testar Bot Geral</button>
        <a href="#areas" class="btn btn-secondary">üéØ Ver Todas as √Åreas</a>
      </div>
    </div>
  </section>

  <!-- Areas -->
  <section id="areas" class="areas">
    <div class="container">
      <h2 class="section-title">12 Assistentes Especializados</h2>
      <p class="section-subtitle">Escolha o assistente ideal para suas necessidades</p>

      <div class="areas-grid">
        <!-- PREMIUM -->
        <div class="area-card premium" id="cardFinancas">
          <div class="area-emoji">üí∞</div>
          <div class="area-title">ZapSmart Finan√ßas</div>
          <div class="area-desc">Cota√ß√µes em tempo real, an√°lise t√©cnica, Bitcoin, a√ß√µes B3, calculadoras</div>
          <div class="area-status status-premium">üåü PREMIUM</div>
          <a href="https://wa.me/5511999999998" class="whatsapp-link">üì± Acessar WhatsApp</a>
        </div>

        <div class="area-card premium" id="cardFutebol">
          <div class="area-emoji">‚öΩ</div>
          <div class="area-title">ZapSmart Futebol</div>
          <div class="area-desc">Brasileir√£o ao vivo, Champions League, transfer√™ncias, estat√≠sticas</div>
          <div class="area-status status-premium">üåü PREMIUM</div>
          <a href="https://wa.me/5511999999997" class="whatsapp-link">üì± Acessar WhatsApp</a>
        </div>

        <div class="area-card premium" id="cardBets">
          <div class="area-emoji">üé∞</div>
          <div class="area-title">ZapSmart Bets</div>
          <div class="area-desc">Tips profissionais, an√°lise de odds, gest√£o de banca</div>
          <div class="area-status status-premium">üåü PREMIUM</div>
          <a href="https://wa.me/5511999999996" class="whatsapp-link">üì± Acessar WhatsApp</a>
        </div>

        <!-- GERAL (9 cards) -->
        <div class="area-card general" data-area="3">
          <div class="area-emoji">üèÉ</div>
          <div class="area-title">Corrida & Atletismo</div>
          <div class="area-desc">Treinos personalizados, calculadora de pace, provas</div>
          <div class="area-status status-ativo">‚úÖ ATIVO</div>
        </div>

        <div class="area-card general" data-area="4">
          <div class="area-emoji">ü•ó</div>
          <div class="area-title">Dieta & Nutri√ß√£o</div>
          <div class="area-desc">Receitas saud√°veis, IMC, planos de emagrecimento</div>
          <div class="area-status status-ativo">‚úÖ ATIVO</div>
        </div>

        <div class="area-card general" data-area="5">
          <div class="area-emoji">üîÆ</div>
          <div class="area-title">Hor√≥scopo & Astrologia</div>
          <div class="area-desc">Previs√µes di√°rias, signos, mapa astral</div>
          <div class="area-status status-ativo">‚úÖ ATIVO</div>
        </div>

        <div class="area-card general" data-area="6">
          <div class="area-emoji">üßò</div>
          <div class="area-title">Sa√∫de Mental</div>
          <div class="area-desc">Medita√ß√£o guiada, bem-estar, controle de ansiedade</div>
          <div class="area-status status-ativo">‚úÖ ATIVO</div>
        </div>

        <div class="area-card general" data-area="7">
          <div class="area-emoji">üéÆ</div>
          <div class="area-title">Games & eSports</div>
          <div class="area-desc">Lan√ßamentos, reviews, eSports, requisitos</div>
          <div class="area-status status-ativo">‚úÖ ATIVO</div>
        </div>

        <div class="area-card general" data-area="8">
          <div class="area-emoji">üé¨</div>
          <div class="area-title">Filmes & S√©ries</div>
          <div class="area-desc">Cinema, Netflix, Prime Video, recomenda√ß√µes</div>
          <div class="area-status status-ativo">‚úÖ ATIVO</div>
        </div>

        <div class="area-card general" data-area="9">
          <div class="area-emoji">üéì</div>
          <div class="area-title">Educa√ß√£o</div>
          <div class="area-desc">ENEM, vestibulares, cursos online, estudo</div>
          <div class="area-status status-ativo">‚úÖ ATIVO</div>
        </div>

        <div class="area-card general" data-area="10">
          <div class="area-emoji">‚úàÔ∏è</div>
          <div class="area-title">Viagens & Turismo</div>
          <div class="area-desc">Passagens, hot√©is, roteiros, documentos</div>
          <div class="area-status status-ativo">‚úÖ ATIVO</div>
        </div>

        <div class="area-card general" data-area="11">
          <div class="area-emoji">üõçÔ∏è</div>
          <div class="area-title">Promo√ß√µes & Ofertas</div>
          <div class="area-desc">Cupons, cashback, Black Friday, compara√ß√£o</div>
          <div class="area-status status-ativo">‚úÖ ATIVO</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <div class="container">
      <p>&copy; 2024 ZapSmart. Todos os direitos reservados.</p>
      <p>ü§ñ 12 Assistentes Especializados ‚Ä¢ üí¨ WhatsApp + Web ‚Ä¢ üöÄ IA Integrada</p>
      <p class="dev">Desenvolvido por <strong>NotarizeX Tokeniza√ß√£o LTDA</strong> - CNPJ: 61.922.930/0001-97</p>
    </div>
  </footer>

  <!-- Chat Widget -->
  <div class="chat-widget">
    <button class="chat-button" onclick="openGeneralChat()">üí¨</button>
    <div class="chat-popup" id="chatPopup">
      <div class="chat-header">
        <div style="display:flex;align-items:center;gap:10px;">
          <div style="width:40px;height:40px;background:#25D366;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:bold;">ü§ñ</div>
          <div>
            <div id="chatTitle" style="font-weight:bold;">ZapSmart Geral</div>
            <div style="font-size:.8rem;opacity:.8;">9 √°reas ativas</div>
          </div>
        </div>
        <button onclick="toggleChat()" style="background:none;border:none;color:#fff;font-size:1.2rem;cursor:pointer;">‚úï</button>
      </div>
      <div class="chat-body" id="chatBody">
        <div class="message bot">
          <div class="message-content" id="welcomeMsg">
            ü§ñ Ol√°! Sou o ZapSmart Geral!<br><br>
            Tenho 9 √°reas ativas:<br>
            üèÉ Corrida ‚Ä¢ ü•ó Dieta ‚Ä¢ üîÆ Hor√≥scopo<br>
            üßò Sa√∫de Mental ‚Ä¢ üéÆ Games ‚Ä¢ üé¨ Filmes<br>
            üéì Educa√ß√£o ‚Ä¢ ‚úàÔ∏è Viagens ‚Ä¢ üõçÔ∏è Promo√ß√µes<br><br>
            Para √°reas premium (üí∞ Finan√ßas, ‚öΩ Futebol, üé∞ Bets), use os cards acima!<br><br>
            Digite 'menu' ou escolha uma √°rea!
          </div>
        </div>
        <div class="typing" id="typing">
          <div class="typing-dot"></div><div class="typing-dot"></div><div class="typing-dot"></div>
        </div>
      </div>
      <div class="chat-input-area">
        <input type="text" class="chat-input" id="chatInput" placeholder="Digite sua mensagem..." onkeypress="handleKeyPress(event)">
        <button class="send-btn" onclick="sendMessage()">‚û§</button>
      </div>
    </div>
  </div>

  <script>
    // ===== Endpoints (UNIFICADO) =====
    const UNIFIED_BASE = 'https://zapsmart-api.onrender.com';
    const ENDPOINTS = {
      geral:    `${UNIFIED_BASE}/geral/chat`,
      financas: `${UNIFIED_BASE}/financas/chat`,
      futebol:  `${UNIFIED_BASE}/futebol/chat`,
      bets:     `${UNIFIED_BASE}/bets/chat`
    };
    const PREMIUM_ONLY_MESSAGE = new Set(['financas','futebol','bets']);

    // ===== Estado do Chat =====
    let currentChat = 'geral';
    let chatOpen = false;
    let userId = 'web_user_' + Date.now();

    function setChat(mode){
      currentChat = (['financas','futebol','bets'].includes(mode)) ? mode : 'geral';
      const t = document.getElementById('chatTitle');
      if (currentChat==='financas') t.textContent='ZapSmart Finan√ßas';
      else if (currentChat==='futebol') t.textContent='ZapSmart Futebol';
      else if (currentChat==='bets') t.textContent='ZapSmart Bets';
      else t.textContent='ZapSmart Geral';
    }

    function toggleChat(){
      const popup=document.getElementById('chatPopup');
      chatOpen=!chatOpen;
      popup.classList.toggle('active',chatOpen);
      if (!chatOpen){ setChat('geral'); clearQuickActions(); }
      else document.getElementById('chatInput').focus();
    }

    function openGeneralChat(){
      setChat('geral');
      if (!chatOpen) toggleChat();
      showMainMenu();
      clearQuickActions();
    }

    function handleKeyPress(e){ if(e.key==='Enter') sendMessage(); }

    // ===== Menu Geral =====
    function showMainMenu(){
      const menu = [
        "ü§ñ <b>ZAPSMART GERAL - 9 √ÅREAS ATIVAS</b>",
        "",
        "Escolha uma √°rea de interesse:",
        "",
        "3Ô∏è‚É£ üèÉ <b>Corrida</b> - Treinos, pace, eventos",
        "4Ô∏è‚É£ ü•ó <b>Dieta</b> - Receitas, IMC, nutri√ß√£o",
        "5Ô∏è‚É£ üîÆ <b>Hor√≥scopo</b> - Previs√µes, signos",
        "6Ô∏è‚É£ üßò <b>Sa√∫de Mental</b> - Medita√ß√£o, bem-estar",
        "7Ô∏è‚É£ üéÆ <b>Games</b> - Lan√ßamentos, reviews",
        "8Ô∏è‚É£ üé¨ <b>Filmes</b> - Cinema, streaming",
        "9Ô∏è‚É£ üéì <b>Educa√ß√£o</b> - ENEM, cursos",
        "üîü ‚úàÔ∏è <b>Viagens</b> - Passagens, roteiros",
        "1Ô∏è‚É£1Ô∏è‚É£ üõçÔ∏è <b>Promo√ß√µes</b> - Ofertas, cashback",
        "",
        "<i>Premium:</i> üí∞ Finan√ßas | ‚öΩ Futebol | üé∞ Bets",
        "",
        "<b>Digite o n√∫mero da √°rea ou fa√ßa qualquer pergunta!</b>"
      ].join("<br>");
      addMessage(menu,'bot');
    }

    function isGeneralMenuSelection(text){
      const t = (text||'').trim().toLowerCase();
      if (/^(3|4|5|6|7|8|9|10|11)$/.test(t)) return true;
      const areas = [
        'corrida','atletismo','dieta','nutri√ß√£o','nutricao',
        'hor√≥scopo','horoscopo','sa√∫de mental','saude mental',
        'games','jogos','filmes','s√©ries','series',
        'educa√ß√£o','educacao','viagens','turismo',
        'promo√ß√µes','promocoes','ofertas','cashback'
      ];
      return areas.some(a=>t.includes(a));
    }

    // ===== Mensagens =====
    async function sendMessage(predefinedMessage=null){
      const input=document.getElementById('chatInput');
      const message=predefinedMessage || input.value.trim();
      if(!message) return;
      if(!predefinedMessage) input.value='';
      if(!chatOpen) toggleChat();

      // Se digitou item do menu ‚Üí for√ßa Geral
      if (isGeneralMenuSelection(message)){
        setChat('geral'); clearQuickActions();
      }

      addMessage(message,'user'); showTyping();

      try{
        const url = ENDPOINTS[currentChat] || ENDPOINTS.geral;
        const payload = PREMIUM_ONLY_MESSAGE.has(currentChat) ? { message } : { message, user_id: userId };

        const resp = await fetch(url,{ method:'POST', headers:{'Content-Type':'application/json'}, body:JSON.stringify(payload) });
        if(!resp.ok) throw new Error('HTTP '+resp.status);
        const data = await resp.json();
        hideTyping();

        const botText = data?.response || data?.answer || data?.text || 'ü§ñ Sem resposta no momento.';
        addMessage(botText,'bot');

        if (Array.isArray(data?.suggestions) && data.suggestions.length){
          renderQuickActions(data.suggestions);
        }
        if (isGeneralMenuSelection(message)) showMainMenu();

      }catch(e){
        console.error('Erro:',e);
        hideTyping();
        addMessage('ü§ñ Ops! Estou com problemas de conex√£o. Tente novamente em alguns segundos.','bot');
      }
    }

    function addMessage(text,sender){
      const chatBody=document.getElementById('chatBody');
      const wrap=document.createElement('div');
      wrap.className='message '+sender;
      const content=document.createElement('div');
      content.className='message-content';
      content.innerHTML=(text+'').replace(/\n/g,'<br>');
      wrap.appendChild(content);
      chatBody.appendChild(wrap);
      chatBody.scrollTop=chatBody.scrollHeight;
    }
    function showTyping(){ document.getElementById('typing').classList.add('active'); const b=document.getElementById('chatBody'); b.scrollTop=b.scrollHeight; }
    function hideTyping(){ document.getElementById('typing').classList.remove('active'); }

    // ===== Quick Actions =====
    function clearQuickActions(){
      document.querySelectorAll('.quick-actions').forEach(el=>el.remove());
    }
    function renderQuickActions(list){
      clearQuickActions();
      const chatBody=document.getElementById('chatBody');
      const wrap=document.createElement('div');
      wrap.className='quick-actions';
      wrap.style.display='flex'; wrap.style.flexWrap='wrap'; wrap.style.gap='8px'; wrap.style.margin='8px 0 12px';
      list.forEach(label=>{
        const btn=document.createElement('button');
        btn.textContent=label;
        btn.style.border='1px solid #ddd'; btn.style.borderRadius='999px'; btn.style.padding='6px 10px';
        btn.style.background='#fff'; btn.style.cursor='pointer'; btn.style.fontSize='.85rem';
        btn.onclick=()=>sendMessage(label);
        wrap.appendChild(btn);
      });
      chatBody.appendChild(wrap);
      chatBody.scrollTop=chatBody.scrollHeight;
    }
    function showDefaultQuickActionsFor(mode){
      const presets={
        financas:["D√≥lar agora","Bitcoin","Ibovespa","CDI","PETR4","VALE3","Calend√°rio econ√¥mico"],
        futebol:["Jogos de hoje","Classifica√ß√£o","Artilharia","Pr√≥ximas rodadas","Mercado de transfer√™ncias"],
        bets:["Odds do jogo X","Probabilidade impl√≠cita","Value bet","Gest√£o de banca","Ambas marcam?"]
      };
      renderQuickActions(presets[mode]||[]);
    }

    // ===== Navega√ß√£o suave para √¢ncoras =====
    document.querySelectorAll('a[href^="#"]').forEach(a=>{
      a.addEventListener('click',e=>{
        e.preventDefault();
        const target=document.querySelector(a.getAttribute('href'));
        if(target) target.scrollIntoView({behavior:'smooth',block:'start'});
      });
    });

    // ===== Clique nos cards =====
    // Premium
    document.getElementById('cardFinancas')?.addEventListener('click',e=>{
      if(e.target.closest('a')) return;
      setChat('financas'); if(!chatOpen) toggleChat();
      addMessage('üí∞ Finan√ßas ativado. Pergunte: "BTC agora", "PETR4 cota√ß√£o", "D√≥lar agora", "calcular CDI"...','bot');
      showDefaultQuickActionsFor('financas');
    });
    document.getElementById('cardFutebol')?.addEventListener('click',e=>{
      if(e.target.closest('a')) return;
      setChat('futebol'); if(!chatOpen) toggleChat();
      addMessage('‚öΩ Futebol ativado. Pe√ßa jogos de hoje, classifica√ß√£o, artilharia e transfer√™ncias.','bot');
      showDefaultQuickActionsFor('futebol');
    });
    document.getElementById('cardBets')?.addEventListener('click',e=>{
      if(e.target.closest('a')) return;
      setChat('bets'); if(!chatOpen) toggleChat();
      addMessage('üé∞ Bets ativado. Pe√ßa odds, value bets e gest√£o de banca (responsabilidade).','bot');
      showDefaultQuickActionsFor('bets');
    });

    // Geral (todos os 9)
    document.querySelectorAll('.area-card.general').forEach(card=>{
      card.addEventListener('click',()=>{
        openGeneralChat();
      });
    });
  </script>
</body>
</html>
